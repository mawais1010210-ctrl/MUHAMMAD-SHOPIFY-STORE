<!-- Font Awesome -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<!-- Slick CSS -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.css">

<style>
/* ===== Section ===== */
.collection-slider-sec {
  padding: 30px 0;
}

.collection-slider-container {
  max-width: 1380px;
  margin: 0 auto;
  padding: 0 50px;
}

.collection-slider-title {
  text-align: center;
  font-size: 28px;
  margin-bottom: 24px;
}

/* ===== Slider ===== */
.slider-item {
  padding: 0 15px;
}

.collection-slider-img {
  width: 100%;
  height: 370px;
  object-fit: cover;
  border-radius: 10px;
}

/* ===== Custom Buttons ===== */
.collection-slick-nav {
  display: flex;
  justify-content: center;
  gap: 15px;
  margin-top: 20px;
}

.collection-slider-btn {
  width: 42px;
  height: 42px;
  border-radius: 50%;
  background: #000;
  border: none;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
}

.collection-slider-btn i {
  color: #fff;
  font-size: 16px;
}

.collection-slider-btn:hover {
  background: #444;
}
</style>

<section class="collection-slider-sec">
  <div class="collection-slider-container">

    <h2 class="collection-slider-title">
      {{ section.settings.collection_heading }}
    </h2>

    <div class="collection-slider-main">
      <div class="slick-slider">
        {% for block in section.blocks %}
        <div class="slider-item">
          {% if block.settings.collection_image != blank %}
          <img
            class="collection-slider-img"
            src="{{ block.settings.collection_image | img_url: 'master' }}"
            alt=""
          >
          {% endif %}
          <h3>{{ block.settings.collection_subtitle }}</h3>
        </div>
        {% endfor %}
      </div>
    </div>

    <!-- Custom Navigation -->
    <div class="collection-slick-nav">
      <button class="collection-slider-btn prev">
        <i class="fas fa-chevron-left"></i>
      </button>
      <button class="collection-slider-btn next">
        <i class="fas fa-chevron-right"></i>
      </button>
    </div>

  </div>
</section>

<!-- jQuery -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<!-- Slick JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.js"></script>

<script>
$(document).ready(function () {

  var $slider = $('.slick-slider');

  $slider.slick({
    slidesToShow: 3.2,
    slidesToScroll: 1,
    arrows: false,   // ‚ùå slick arrows OFF
    dots: false,
    infinite: false,
    responsive: [
      { breakpoint: 992, settings: { slidesToShow: 2 } },
      { breakpoint: 600, settings: { slidesToShow: 1 } }
    ]
  });

  // Custom buttons
  $('.collection-slider-btn.prev').click(function () {
    $slider.slick('slickPrev');
  });

  $('.collection-slider-btn.next').click(function () {
    $slider.slick('slickNext');
  });

});
</script>

{% schema %}
{
  "name": "Collection Slider",
  "settings": [
    {
      "type": "text",
      "id": "collection_heading",
      "label": "Heading"
    }
  ],
  "blocks": [
    {
      "type": "image",
      "name": "Slide",
      "settings": [
        {
          "type": "image_picker",
          "id": "collection_image",
          "label": "Image"
        },
        {
          "type": "text",
          "id": "collection_subtitle",
          "label": "Subtitle"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Collection Slider"
    }
  ]
}
{% endschema %}
